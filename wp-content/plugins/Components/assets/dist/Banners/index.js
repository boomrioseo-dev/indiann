(()=>{"use strict";class e{constructor(e,n){this.actionType=e,this.screen=n}action=async function(){let e;switch(this.actionType){case"Popup":e="ajaxPopupCmp";break;case"SlidePanel":e="ajaxSlidePanel"}return await this.send(e)};send=async e=>{const n=new FormData;return n.append("action",e),n.append("screen",this.screen),n.append("pageID",enabledOptionsBanners.pageID),await fetch(jsVars.ajaxurl,{method:"POST",credentials:"same-origin",body:n}).then((e=>e.json())).then((e=>{if(e)return console.log(e),[e.panel,e.delay,e.flag]})).catch((e=>{console.log("Error send",e)}))}}class n{constructor(e){this.getWindowWidth(),this.render(e)}getWindowWidth(){window.innerWidth>=834?this.screen="desktop":this.screen="mobile"}click(e){e.querySelectorAll(".click-button").forEach((e=>{e.addEventListener("click",(function(){window.location.href=this.dataset.link}))}))}render=async n=>{let t=new e(n,this.screen);const[o,c,s]=await t.action();s||setTimeout((()=>{const e=document.createElement("div");"Popup"===n&&e.classList.add("popup-wrapper"),e.innerHTML=o,document.body.appendChild(e),"Popup"===n&&(document.body.style.overflow="hidden",this.close(e),this.copyText()),this.click(e)}),1e3*c)};close(e){const n=e.querySelectorAll(".popup__cross, button.cmp-popup-btns__item");n.length&&n.forEach((n=>{n.addEventListener("click",(n=>{e.remove(),document.body.style.overflow="visible"}))}))}copyText(){const e=document.querySelector("#cmp-popup-copy-button");e&&e.addEventListener("click",(e=>{const n=document.querySelector("#cmp-popup-copy-code"),t=n.innerHTML;navigator.clipboard.writeText(t).then((()=>{n.innerHTML="Copied!"})),setTimeout((()=>{n.innerHTML=t}),2e3)}))}}"undefined"!=typeof enabledOptionsBanners&&(enabledOptionsBanners.popupEnabledGlobal&&new n("Popup"),enabledOptionsBanners.slidePanelEnabledGlobal&&new n("SlidePanel"))})();